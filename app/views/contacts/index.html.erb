<% provide(:title, "All Contacts") %>

<h3 style="margin: 30px 0px">Listing Contacts</h3>

<% count = 0 %>
<table class="table table-striped">
  <thead>
    <tr>
      <th>No.</th>
      <th>Name</th>
      <th>Mobile</th>
      <th>Phone</th>
      <th>Role</th>
      <th>Priority</th>
      <th>Address</th>
      <th>Email</th>
      <th>Note</th>      
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @contacts.each do |contact| %>
      <% count += 1 %>
      <tr>
        <td><%= count %></td>
        <td><%= editable contact, :name %></td>
        <td><%= editable contact, :mobile %></td>
        <td><%= editable contact, :phone %></td>
        <td>
          <%= editable contact, :role, type: :select,
            data: { source: ['supplier', 'client', 'shipper', 'all_above',
                             'other'] } %>             
        </td>
        <td>
          <%= editable contact, :priority, type: :select,
            data: { source: ['vip', 'important', 'ordinary', 'bad', 'worse',
                             'worst'] } %>            
        </td>
        <td><%= editable contact, :address %></td>
        <td><%= editable contact, :email %></td>
        <td><%= editable contact, :note, type: :textarea %></td>
        <td>
          <%= link_to 'Show', contact,   class: 'btn btn-primary btn-xs' %>
        </td>
        <td>
          <%= link_to edit_contact_path(contact),
                      class: 'btn btn-info btn-xs' do %>
            <i class="glyphicon glyphicon-edit"></i> Edit
          <% end %> 
        </td>
        <td>
          <%= link_to contact_path(contact),
                      method: :delete,
                      data: { confirm: 'Are you sure?' },
                      class: 'btn btn-danger btn-xs' do %>
            <i class="glyphicon glyphicon-remove"></i> Destroy
          <% end %>     
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Contact', new_contact_path %>